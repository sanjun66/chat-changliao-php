(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e717b2b0"],{"05b5":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("div",{staticStyle:{"text-align":"right","margin-bottom":"15px"}},[r("el-button",{attrs:{type:"success"},on:{click:function(e){return t.onAddOrUpdate()}}},[t._v("新增")])],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[r("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),r("el-table-column",{attrs:{prop:"sort",label:"排序",width:"80"}}),r("el-table-column",{attrs:{prop:"title",label:"标题"}}),r("el-table-column",{attrs:{prop:"type",label:"类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(1==e.row.type?"目录":"菜单")+" ")]}}])}),r("el-table-column",{attrs:{prop:"parent_id",label:"上级ID"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("parentIdToTitle")(e.row.parent_id,t.that))+" ")]}}])}),r("el-table-column",{attrs:{prop:"alias",label:"名称"}}),r("el-table-column",{attrs:{prop:"is_show",label:"是否显示"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.is_show?r("el-tag",{attrs:{type:"success"}},[t._v("显示")]):r("el-tag",{attrs:{type:"danger"}},[t._v("隐藏")])]}}])}),r("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return t.onAddOrUpdate(e.row)}}},[t._v("编辑")]),r("el-popconfirm",{attrs:{title:"确定删除吗？"},on:{onConfirm:function(r){return t.handleDelete(e.$index,e.row)}}},[r("el-button",{staticStyle:{"margin-left":"6px"},attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[t._v("删除 ")])],1)]}}])})],1),r("el-dialog",{staticClass:"el-form-dialog",attrs:{title:t.form.id>0?"系统菜单-编辑":"系统菜单-添加",visible:t.dialogFormVisible,top:"2vh","close-on-click-modal":!1,"before-close":t.handleClose},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[r("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"90px"}},[r("el-form-item",{attrs:{label:"排序"}},[r("el-input",{model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1),r("el-form-item",{attrs:{label:"标题",prop:"title"}},[r("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),r("el-form-item",{attrs:{label:"名称",prop:"alias"}},[r("el-input",{model:{value:t.form.alias,callback:function(e){t.$set(t.form,"alias",e)},expression:"form.alias"}})],1),r("el-form-item",{attrs:{label:"类型",prop:"type"}},[r("el-radio-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[r("el-radio",{attrs:{label:1}},[t._v("目录")]),r("el-radio",{attrs:{label:2}},[t._v("菜单")])],1)],1),2==t.form.type?r("el-form-item",{attrs:{label:"上级菜单",prop:"parent_id"}},[r("el-select",{attrs:{clearable:""},model:{value:t.form.parent_id,callback:function(e){t.$set(t.form,"parent_id",e)},expression:"form.parent_id"}},[r("el-option",{attrs:{value:0,label:"无"}}),t._l(t.list,(function(e){return 1==e.type?r("el-option",{attrs:{value:e.id,label:e.title}}):t._e()}))],2)],1):t._e(),r("el-form-item",{attrs:{label:"是否显示",prop:"is_show"}},[r("el-radio-group",{model:{value:t.form.is_show,callback:function(e){t.$set(t.form,"is_show",e)},expression:"form.is_show"}},[r("el-radio",{attrs:{label:1}},[t._v("是")]),r("el-radio",{attrs:{label:0}},[t._v("否")])],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){return t.handleClose()}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary",loading:t.loadingBut},on:{click:function(e){return t.submitForm()}}},[t._v("确 定")])],1)],1)],1)},o=[],i=r("b85c"),a=r("8593"),l={name:"adminMenu",data:function(){return{that:this,list:null,loading:!1,loadingBut:!1,dialogFormVisible:!1,form:{id:"",title:"",alias:"",action:"",sort:0,type:1,parent_id:"",is_show:1},rules:{title:[{required:!0,message:"请输入名称",trigger:"blur"}],alias:[{required:!0,message:"请输入路由地址",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"blur"}],parent_id:[{required:!0,message:"请选择上级菜单",trigger:"blur"}]}}},filters:{parentIdToTitle:function(t,e){if(t>0){var r,n=Object(i["a"])(e.list);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o.id==t)return o.title}}catch(a){n.e(a)}finally{n.f()}}return"无"}},created:function(){this.getAuthoritiesList()},methods:{getAuthoritiesList:function(){var t=this;this.loading=!0,Object(a["f"])().then((function(e){var r=e.data;t.loading=!1,200==r.code&&(t.list=r.data.auth_list)}))},handleClose:function(){this.dialogFormVisible=!1},handleDelete:function(t,e){var r=this;Object(a["b"])(e).then((function(t){r.getAuthoritiesList()}))},submitForm:function(){var t=this;this.$refs["form"].validate((function(e){e&&(t.loadingBut=!0,Object(a["p"])(t.form).then((function(e){t.loadingBut=!1,t.dialogFormVisible=!1,t.getAuthoritiesList()})).catch((function(){t.loadingBut=!1})))}))},onAddOrUpdate:function(t){this.form=null,this.dialogFormVisible=!0,this.form={id:"",title:"",alias:"",action:"",sort:0,type:1,parent_id:"",is_show:1},t&&(this.form=Object.assign({},t))}}},u=l,s=r("2877"),d=Object(s["a"])(u,n,o,!1,null,"6f6c4bc3",null);e["default"]=d.exports},8593:function(t,e,r){"use strict";r.d(e,"h",(function(){return o})),r.d(e,"e",(function(){return i})),r.d(e,"o",(function(){return a})),r.d(e,"a",(function(){return l})),r.d(e,"g",(function(){return u})),r.d(e,"k",(function(){return s})),r.d(e,"r",(function(){return d})),r.d(e,"c",(function(){return c})),r.d(e,"j",(function(){return f})),r.d(e,"f",(function(){return m})),r.d(e,"p",(function(){return p})),r.d(e,"b",(function(){return b})),r.d(e,"l",(function(){return h})),r.d(e,"s",(function(){return g})),r.d(e,"i",(function(){return v})),r.d(e,"q",(function(){return _})),r.d(e,"m",(function(){return y})),r.d(e,"n",(function(){return O})),r.d(e,"d",(function(){return j}));var n=r("b775");function o(t){return Object(n["a"])({url:"/admin/logs/",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/admin",method:"get",params:t})}function a(t){return Object(n["a"])({url:"/admin",method:"put",data:t})}function l(t){return Object(n["a"])({url:"/admin",method:"delete",data:t})}function u(t){return Object(n["a"])({url:"/admin/index",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/admin/roles",method:"get",params:t})}function d(t){return Object(n["a"])({url:"/admin/roles",method:"put",data:t})}function c(t){return Object(n["a"])({url:"/admin/roles",method:"delete",data:t})}function f(t){return Object(n["a"])({url:"/admin/roles/auth",method:"get",params:t})}function m(t){return Object(n["a"])({url:"/admin/authorities",method:"get"})}function p(t){return Object(n["a"])({url:"/admin/authorities",method:"put",data:t})}function b(t){return Object(n["a"])({url:"/admin/authorities",method:"delete",data:t})}function h(t){return Object(n["a"])({url:"/admin/smsInfo",method:"get",data:t})}function g(t){return Object(n["a"])({url:"/admin/smsSave",method:"PUT",data:t})}function v(t){return Object(n["a"])({url:"/admin/ossInfo",method:"get",data:t})}function _(t){return Object(n["a"])({url:"/admin/ossSave",method:"PUT",data:t})}function y(t){return Object(n["a"])({url:"/admin/Version",method:"get",data:t})}function O(t){return Object(n["a"])({url:"/admin/Version",method:"PUT",data:t})}function j(t){return Object(n["a"])({url:"/admin/version/"+t,method:"delete"})}}}]);